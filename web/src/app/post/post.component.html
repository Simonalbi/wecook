<main>
  <div class="post-container">
    <div class="profile-container">
      <div class="profile-info">
        <div class="profile-picture-container">
          <img [src]="post().user.picture ?? 'assets/blank_user.png' " alt="Foto profilo" />
        </div>
        <div class="profile-username">
          <span>{{ post().user.username }}</span>
        </div>
      </div>
      <div class="profile-menu">
        <span class="material-icons-outlined medium-icon">feedback</span>
      </div>
    </div>
    <div class="recipe-image-container">
      <img [src]="post().picture" alt="Foto ricetta" />
    </div>
    <div class="actions-container">
      <div class="interactions-container">
        <span class="material-icons-outlined">favorite_border</span>
        <span class="material-icons-outlined">chat_bubble_outline</span>
        <span class="material-icons-outlined">share</span>
      </div>
      <span class="material-icons-outlined">bookmark_border</span>
    </div>
    <div class="description-container">
      @if (post().recipe.description.length > 100) {
        <details (toggle)="onToggleSummary($event)">
          <summary #summary>
            {{ post().recipe.description }}
          </summary>
          <p (click)="onToggleSummary($event)">
            {{ post().recipe.description }}
          </p>
        </details>
        <span>Continua a leggere</span>
      } @else {
        <p>{{ post().recipe.description }}</p>
      }
    </div>
  </div>
  <app-post-details [post]="post()"></app-post-details>
</main>
